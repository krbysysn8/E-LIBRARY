<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;700&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
    <title>Faculty Dashboard | Pedro Guevara Elementary School E-Library</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Fredoka', Arial, sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background: #f8f9fa;
        }
        header {
            background: linear-gradient(135deg, #4a5f9d 0%, #6b82c5 100%);
            color: white;
            padding: 0 20px;
            display: flex;
            align-items: center;
            gap: 16px;
            height: 144px;
        }
        .logo img {
            width: 180px;
            height: 150px;
            border-radius: 100%;
            box-shadow: 0 4px 24px rgba(74,95,157,0.18);
            object-fit: cover;
            outline: 6px solid #4a5f9d;
            outline-offset: 2px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .header-text {
            display: flex;
            flex-direction: column;
            justify-content: center;
            margin-left: 5px;
        }
        .header-text h1 {
            font-size: 18px;
            font-weight: normal;
            margin-bottom: 8px;
            margin-left: -29px;
            font-family: 'Open Sans', Arial, sans-serif;
        }
        .header-text h2 {
            font-size: 29px;
            font-weight: bold;
            margin-bottom: 8px;
            margin-left: -29px;
            font-family: 'Open Sans', Arial, sans-serif;
        }
        .header-text p {
            font-size: 18px;
            margin-left: -29px;
            font-family: 'Open Sans', Arial, sans-serif;
        }
        nav {
            background: white;
            padding: 0 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: relative;
        }
        nav ul {
            list-style: none;
            display: flex;
            gap: 24px;
            align-items: center;
        }
        nav li {
            position: relative;
        }
        nav a {
            display: block;
            padding: 14px 0;
            color: #333;
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            transition: color 0.3s ease;
            position: relative;
            font-family: 'Open Sans', Arial, sans-serif;
            cursor: pointer;
        }
        nav a:hover {
            color: #4a5f9d;
        }
        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 3px;
            background: #4a5f9d;
            transition: width 0.3s ease;
        }
        nav a:hover::after {
            width: 100%;
        }
        
        .dropdown {
            position: relative;
        }
        .dropdown-toggle {
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .dropdown-toggle .arrow {
            font-size: 10px;
            transition: transform 0.3s ease;
        }
        .dropdown.active .arrow {
            transform: rotate(180deg);
        }
        .dropdown-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            border-radius: 8px;
            min-width: 180px;
            z-index: 1000;
            margin-top: 8px;
        }
        .dropdown-menu.show {
            display: block;
            animation: fadeIn 0.2s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .dropdown-menu a {
            padding: 12px 20px;
            display: block;
            color: #333;
            font-size: 14px;
            transition: background 0.2s;
        }
        .dropdown-menu a:hover {
            background: #f0f4ff;
            color: #4a5f9d;
        }
        .dropdown-menu a::after {
            display: none;
        }

        .logout-btn {
            background: #4a5f9d;
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Open Sans', Arial, sans-serif;
        }
        .logout-btn:hover {
            background: #6b82c5;
            transform: translateY(-2px);
        }

        .search-form {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .search-input {
            padding: 8px 16px;
            border-radius: 20px;
            border: 1px solid #ccc;
            font-size: 14px;
            font-family: 'Open Sans', Arial, sans-serif;
            outline: none;
            transition: border-color 0.3s ease;
        }
        .search-input:focus {
            border-color: #4a5f9d;
        }
        .search-btn {
            padding: 8px 20px;
            border-radius: 20px;
            background: #4a5f9d;
            color: white;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s ease, transform 0.2s ease;
            font-family: 'Open Sans', Arial, sans-serif;
        }
        .search-btn:hover {
            background: #6b82c5;
            transform: translateY(-2px);
        }
        main {
            flex: 1;
            padding: 40px 20px;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }
        .faculty-profile {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: white;
            padding: 32px;
            border-radius: 20px;
            box-shadow: 0 2px 12px rgba(74,95,157,0.12);
            margin-bottom: 32px;
        }
        .faculty-info h2 {
            font-size: 2rem;
            font-weight: 700;
            color: #4a5f9d;
            margin-bottom: 8px;
            font-family: 'Fredoka', Arial, sans-serif;
        }
        .faculty-info p {
            font-size: 1.1rem;
            color: #555;
            font-family: 'Open Sans', Arial, sans-serif;
        }
        .greeting-message {
            font-size: 1.4rem;
            color: #4a5f9d;
            font-weight: 600;
            font-family: 'Fredoka', Arial, sans-serif;
        }
        .dashboard-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }
        .action-card {
            background: white;
            padding: 28px;
            border-radius: 16px;
            box-shadow: 0 2px 12px rgba(74,95,157,0.1);
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        .action-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 8px 24px rgba(74,95,157,0.18);
            border-color: #4a5f9d;
        }
        .action-card svg {
            width: 64px;
            height: 64px;
            margin-bottom: 16px;
            fill: #4a5f9d;
        }
        .action-card h3 {
            font-size: 1.3rem;
            color: #4a5f9d;
            margin-bottom: 8px;
            font-family: 'Fredoka', Arial, sans-serif;
        }
        .action-card p {
            font-size: 0.95rem;
            color: #666;
            font-family: 'Open Sans', Arial, sans-serif;
        }
        .available-books {
            background: white;
            padding: 32px;
            border-radius: 20px;
            box-shadow: 0 2px 12px rgba(74,95,157,0.12);
        }
        .available-books h3 {
            font-size: 1.8rem;
            color: #4a5f9d;
            margin-bottom: 24px;
            font-family: 'Fredoka', Arial, sans-serif;
        }
        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 24px;
        }
        .book-card {
            background: #f8f9fa;
            border-radius: 16px;
            padding: 20px;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        .book-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 20px rgba(74,95,157,0.15);
            border-color: #4a5f9d;
        }
        .book-cover {
            width: 100%;
            height: 220px;
            background: linear-gradient(135deg, #e8f0ff 0%, #f0f4ff 100%);
            border-radius: 12px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }
        .book-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .book-cover svg {
            width: 80px;
            height: 80px;
            fill: #4a5f9d;
            opacity: 0.3;
        }
        .availability-badge {
            position: absolute;
            top: 12px;
            right: 12px;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 700;
            font-family: 'Open Sans', Arial, sans-serif;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            background: #2ecc71;
            color: white;
        }
        .book-card h4 {
            font-size: 1.1rem;
            color: #4a5f9d;
            margin-bottom: 8px;
            font-family: 'Fredoka', Arial, sans-serif;
            line-height: 1.3;
        }
        .book-card .author {
            font-size: 0.9rem;
            color: #666;
            font-family: 'Open Sans', Arial, sans-serif;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .book-card .author svg {
            width: 16px;
            height: 16px;
            fill: #666;
        }
        .book-actions {
            display: flex;
            gap: 8px;
        }
        .btn {
            flex: 1;
            padding: 10px 16px;
            border: none;
            border-radius: 10px;
            font-family: 'Open Sans', Arial, sans-serif;
            font-weight: 700;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }
        .btn svg {
            width: 16px;
            height: 16px;
        }
        .btn-view {
            background: #3498db;
            color: white;
        }
        .btn-view:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }
        .btn-borrow {
            background: #2ecc71;
            color: white;
        }
        .btn-borrow:hover {
            background: #27ae60;
            transform: translateY(-2px);
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
        }
        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeInModal 0.3s;
        }
        @keyframes fadeInModal {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .modal-content {
            background: white;
            border-radius: 20px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideUp 0.4s;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }
        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        .modal-header {
            padding: 30px;
            border-bottom: 2px solid #e8f0ff;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(135deg, #f8faff 0%, #ffffff 100%);
        }
        .modal-header h2 {
            font-family: 'Fredoka', sans-serif;
            color: #4a5f9d;
            font-size: 1.8rem;
            margin: 0;
        }
        .close-btn {
            background: none;
            border: none;
            font-size: 2.5rem;
            color: #999;
            cursor: pointer;
            line-height: 1;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s;
        }
        .close-btn:hover {
            color: #333;
            background: #f0f0f0;
        }
        .modal-body {
            padding: 30px;
        }
        .book-details {
            display: grid;
            grid-template-columns: 220px 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        .book-thumbnail {
            background: linear-gradient(135deg, #e8f0ff 0%, #f0f4ff 100%);
            border-radius: 12px;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(74, 95, 157, 0.15);
        }
        .book-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 12px;
        }
        .book-thumbnail svg {
            width: 100px;
            height: 100px;
            fill: #4a5f9d;
            opacity: 0.3;
        }
        .book-meta h3 {
            font-family: 'Fredoka', sans-serif;
            color: #4a5f9d;
            font-size: 1.8rem;
            margin-bottom: 12px;
            line-height: 1.3;
        }
        .book-meta .author-meta {
            color: #666;
            font-size: 1.1rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .book-meta .author-meta svg {
            width: 18px;
            height: 18px;
            fill: #666;
        }
        .book-meta .status {
            display: inline-block;
            background: #2ecc71;
            color: white;
            padding: 8px 18px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 700;
            margin-bottom: 20px;
        }
        .book-meta .info-row {
            margin-bottom: 12px;
            color: #555;
            font-size: 1rem;
        }
        .book-meta .info-row strong {
            color: #333;
            font-weight: 700;
        }
        .overview-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #e8f0ff;
        }
        .overview-section h4 {
            font-family: 'Fredoka', sans-serif;
            color: #4a5f9d;
            font-size: 1.3rem;
            margin-bottom: 15px;
        }
        .overview-section p {
            color: #555;
            line-height: 1.8;
            font-size: 1rem;
        }
        .modal-actions {
            padding: 25px 30px;
            border-top: 2px solid #e8f0ff;
            display: flex;
            gap: 15px;
            background: #f8faff;
        }
        .modal-actions .btn {
            padding: 14px 30px;
            font-size: 1rem;
        }
        .btn-read {
            background: #9b59b6;
            color: white;
        }
        .btn-read:hover {
            background: #8e44ad;
            transform: translateY(-2px);
        }
        footer {
            background: linear-gradient(135deg, #4a5f9d 0%, #6b82c5 100%);
            color: white;
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-family: 'Open Sans', Arial, sans-serif;
        }
        .footer-links {
            display: flex;
            gap: 1px;
            font-family: 'Open Sans', Arial, sans-serif;
            justify-content: flex-start;
            margin-left: 10px;
        }
        .footer-links a {
            color: white;
            text-decoration: none;
            margin-right: 139px;
            font-size: 14px;
            transition: opacity 0.3s ease;
            font-family: 'Open Sans', Arial, sans-serif;
        }
        .footer-links a:hover {
            opacity: 0.7;
        }
        .social-icons {
            display: flex;
            gap: 15px;
        }
        .social-icons a {
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            border: 2px solid white;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        .social-icons a:hover {
            background: white;
            transform: scale(1.1);
        }
        .social-icons a svg {
            width: 20px;
            height: 20px;
            fill: white;
        }
        .social-icons a:hover svg {
            fill: #4a5f9d;
        }
        @media (max-width: 768px) {
            header {
                height: auto;
                padding: 16px;
            }
            .logo img {
                width: 80px;
                height: 80px;
            }
            nav ul {
                flex-wrap: wrap;
                gap: 12px;
            }
            .faculty-profile {
                flex-direction: column;
                text-align: center;
                gap: 16px;
            }
            .dashboard-actions {
                grid-template-columns: 1fr;
            }
            .book-details {
                grid-template-columns: 1fr;
            }
            .book-thumbnail {
                height: 280px;
            }
            .modal-content {
                width: 95%;
                max-height: 95vh;
            }
            .modal-header,
            .modal-body,
            .modal-actions {
                padding: 20px;
            }
            .modal-actions {
                flex-direction: column;
            }
            .modal-actions .btn {
                width: 100%;
            }
            footer {
                flex-direction: column;
                gap: 16px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <a href="homepage.html">
                <img src="images/school/logo.png" alt="PGES Logo"/>
            </a>
        </div>
        <div class="header-text">
            <h1>Republic of the Philippines</h1>
            <h2>Pedro Guevara Elementary School E-Library</h2>
            <p>San Nicolas, Manila</p>
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="homepage.html">HOMEPAGE</a></li>
            <li><a href="facultydashboard.html">DASHBOARD</a></li>
            <li class="dropdown">
                <a class="dropdown-toggle" onclick="toggleDropdown()">
                    BOOKS
                    <span class="arrow">▼</span>
                </a>
                <div class="dropdown-menu" id="booksMenu">
                    <a href="grade1books.html">Grade 1</a>
                    <a href="grade2books.html">Grade 2</a>
                    <a href="grade3books.html">Grade 3</a>
                    <a href="grade4books.html">Grade 4</a>
                    <a href="grade5books.html">Grade 5</a>
                    <a href="grade6books.html">Grade 6</a>
                    <a href="otherbooks.html">Other Books</a>
                </div>
            </li>
            <li style="flex:1;"></li>
            <li>
                <form class="search-form" onsubmit="handleSearch(event)">
                    <input type="text" name="search" placeholder="Search books..." class="search-input" id="searchInput">
                    <button type="submit" class="search-btn">Search</button>
                </form>
            </li>
            <li>
                <button class="logout-btn" onclick="handleLogout()">Log Out</button>
            </li>
        </ul>
    </nav>

    <main>
        <section class="faculty-profile">
            <div class="faculty-info">
                <h2 id="faculty-name">Maria Clara Santos</h2>
                <p id="faculty-department">Faculty ID: FAC-12345 | Department: Mathematics</p>
            </div>
            <div class="greeting-message" id="greeting">
                Good Day!
            </div>
        </section>

        <section class="dashboard-actions">
            <div class="action-card" onclick="window.location.href='borrowed-books.html'">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"/>
                </svg>
                <h3>Borrowed Books</h3>
                <p>View all books you currently have</p>
            </div>

            <div class="action-card" onclick="window.location.href='borrowing-history.html'">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/>
                </svg>
                <h3>Borrowing History</h3>
                <p>Check your borrowing records</p>
            </div>

            <div class="action-card" onclick="window.location.href='returned-books.html'">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/>
                </svg>
                <h3>Returned Books</h3>
                <p>View your returned books</p>
            </div>
        </section>

        <section class="available-books">
            <h3>Available Books</h3>
            <div class="books-grid" id="booksGrid"></div>
        </section>
    </main>

    <div id="bookModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Book Details</h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="book-details">
                    <div class="book-thumbnail" id="modalThumbnail">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"/>
                        </svg>
                    </div>
                    <div class="book-meta">
                        <h3 id="modalBookTitle">Book Title</h3>
                        <div class="author-meta">
                            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                            </svg>
                            <span id="modalAuthor">Author Name</span>
                        </div>
                        <span class="status" id="modalStatus">Available</span>
                        <div class="info-row"><strong>Category:</strong> <span id="modalCategory">General</span></div>
                        <div class="info-row"><strong>Grade Level:</strong> <span id="modalGrade">All Levels</span></div>
                        <div class="info-row"><strong>ISBN:</strong> <span id="modalISBN">N/A</span></div>
                    </div>
                </div>
                <div class="overview-section">
                    <h4>Overview</h4>
                    <p id="modalOverview">Book overview will be displayed here.</p>
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn btn-borrow" id="modalBorrowBtn" onclick="borrowFromModal()">Borrow This Book</button>
            </div>
        </div>
    </div>

    <footer>
        <div>
            <p>2025 PGES All rights reserved.</p>
        </div>
        <div class="footer-links">
            <a href="privacy-policy.html">Privacy Policy</a>
            <a href="terms-of-use.html">Terms of Use</a>
        </div>
        <div class="social-icons">
            <a href="https://www.facebook.com/pedroguevaramanila" title="Facebook">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                </svg>
            </a>
            <a href="https://www.instagram.com/pedroguevaraelementaryschool/" title="Instagram">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                </svg>
            </a>
        </div>
    </footer>

    <script>
        const availableBooks = [
            {
                title: "Pedro Guevara: A Hero's Life",
                author: "Maria Santos",
                available: true,
                cover: "images/books/pedro-guevara.jpg",
                category: "Philippine History",
                grade: "Grade 4-6",
                isbn: "978-1234567920",
                overview: "Discover the inspiring life of Pedro Guevara, a Filipino hero who dedicated his life to education and public service. This comprehensive biography explores his early years, his contributions to Philippine education, and his lasting legacy that continues to inspire students today. Perfect for upper elementary students learning about Philippine heroes and history."
            },
            {
                title: "Teaching Methods for Elementary Education",
                author: "Dr. Linda Ramirez",
                available: true,
                cover: "images/books/teaching-methods.jpg",
                category: "Professional Development",
                grade: "Teacher Resource",
                isbn: "978-1234567925",
                overview: "A comprehensive guide for elementary educators covering modern teaching methodologies, classroom management strategies, and innovative approaches to student engagement. This essential resource includes practical lesson plans, assessment techniques, and research-based strategies that help teachers create dynamic and effective learning environments."
            },
            {
                title: "Math Adventures",
                author: "John Doe",
                available: true,
                cover: "images/books/math-adventures.jpg",
                category: "Mathematics",
                grade: "Grade 3-5",
                isbn: "978-1234567921",
                overview: "Join an exciting journey through the world of mathematics! This engaging book transforms complex mathematical concepts into fun adventures that young learners will love. From basic arithmetic to problem-solving strategies, students will develop strong mathematical foundations while enjoying interactive activities and real-world applications."
            },
            {
                title: "Science Wonders",
                author: "Jane Smith",
                available: true,
                cover: "images/books/science-wonders.jpg",
                category: "Science",
                grade: "Grade 4-6",
                isbn: "978-1234567922",
                overview: "Explore the fascinating world of science through captivating experiments and discoveries. This book covers essential topics in biology, chemistry, and physics, presented in an accessible way for elementary students. Each chapter includes hands-on activities, colorful illustrations, and real-life examples that make science come alive."
            },
            
        ];

        let currentBookData = null;

        window.addEventListener('DOMContentLoaded', function() {
            const facultyData = JSON.parse(localStorage.getItem('facultyData') || '{}');       
            if (facultyData.name) {
                document.getElementById('faculty-name').textContent = facultyData.name;
                const firstName = facultyData.name.split(' ')[0];
                updateGreeting(firstName);
            }
            
            if (facultyData.department) {
                const facultyId = facultyData.facultyId || 'FAC-12345';
                document.getElementById('faculty-department').textContent = `Faculty ID: ${facultyId} | Department: ${facultyData.department}`;
            }

            renderBooks();
        });

        function renderBooks() {
            const container = document.getElementById('booksGrid');
            container.innerHTML = availableBooks.map(book => `
                <div class="book-card">
                    <div class="book-cover">
                        ${book.cover ? `<img src="${book.cover}" alt="${book.title}" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">` : ''}
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="${book.cover ? 'display:none;' : ''}">
                            <path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"/>
                        </svg>
                        <span class="availability-badge">Available</span>
                    </div>
                    <h4>${book.title}</h4>
                    <p class="author">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                        </svg>
                        ${book.author}
                    </p>
                    <div class="book-actions">
                        <button class="btn btn-view" onclick='openModal(${JSON.stringify(book).replace(/'/g, "&#39;")})'>
                            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="white">
                                <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                            </svg>
                            View
                        </button>
                        <button class="btn btn-borrow" onclick='borrowBook("${book.title}")'>
                            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="white">
                                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                            </svg>
                            Borrow
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function openModal(book) {
            currentBookData = book;
            document.getElementById('modalBookTitle').textContent = book.title;
            document.getElementById('modalAuthor').textContent = book.author;
            document.getElementById('modalCategory').textContent = book.category;
            document.getElementById('modalGrade').textContent = book.grade;
            document.getElementById('modalISBN').textContent = book.isbn;
            document.getElementById('modalOverview').textContent = book.overview;
            document.getElementById('modalStatus').textContent = 'Available';

            const thumbnailDiv = document.getElementById('modalThumbnail');
            if (book.cover) {
                thumbnailDiv.innerHTML = `<img src="${book.cover}" alt="${book.title}" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="display:none;">
                        <path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"/>
                    </svg>`;
            } else {
                thumbnailDiv.innerHTML = `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"/>
                </svg>`;
            }

            document.getElementById('bookModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('bookModal').classList.remove('active');
            document.body.style.overflow = 'auto';
            currentBookData = null;
        }

        function borrowFromModal() {
            if (currentBookData) {
                borrowBook(currentBookData.title);
                closeModal();
            }
        }

        function readFromModal() {
            if (currentBookData) {
                readBook(currentBookData.title);
            }
        }

        function borrowBook(title) {
            const borrowDate = new Date();
            const returnDate = new Date(borrowDate);
            returnDate.setDate(returnDate.getDate() + 14); 
            
            alert(`Borrowing request sent for: ${title}\n\nPlease visit the library to complete your borrowing transaction.\n\nEstimated return date: ${returnDate.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' })}`);
        }

        function readBook(title) {
            alert(`Opening online reader for: ${title}\n\nThis feature will be available soon!`);
        }

        function updateGreeting(firstName) {
            const hour = new Date().getHours();
            let greeting;
            
            if (hour >= 5 && hour < 12) {
                greeting = 'Good Morning';
            } else if (hour >= 12 && hour < 18) {
                greeting = 'Good Afternoon';
            } else {
                greeting = 'Good Evening';
            }
            
            document.getElementById('greeting').textContent = `${greeting}, ${firstName}!`;
        }

        function toggleDropdown() {
            const menu = document.getElementById('booksMenu');
            const dropdown = document.querySelector('.dropdown');
            
            menu.classList.toggle('show');
            dropdown.classList.toggle('active');
        }

        function handleLogout() {
            if (confirm('Are you sure you want to log out?')) {
                localStorage.removeItem('isLoggedIn');
                localStorage.removeItem('userType');
                localStorage.removeItem('facultyData');
                sessionStorage.removeItem('userType');
                alert('You have been logged out successfully!');
                window.location.href = 'faculty-login.html';
            }
        }

        function handleSearch(event) {
            event.preventDefault();
            const searchInput = document.getElementById('searchInput');
            const query = searchInput.value.trim();
            
            if (query) {
                alert('Searching for: ' + query + '\n\nSearch functionality will be fully implemented soon!');
                searchInput.value = '';
            } else {
                alert('Please enter a search term');
            }
        }

        document.addEventListener('click', function(event) {
            const booksMenu = document.getElementById('booksMenu');
            const dropdown = document.querySelector('.dropdown');
            const dropdownBtn = event.target.closest('.dropdown-toggle');
            
            if (!dropdownBtn && booksMenu) {
                booksMenu.classList.remove('show');
                if (dropdown) dropdown.classList.remove('active');
            }
        });

        window.onclick = function(event) {
            const modal = document.getElementById('bookModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeModal();
            }
        });
    </script>
</body>
</html>